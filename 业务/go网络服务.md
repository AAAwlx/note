# go网络服务

对于go一个网络服务的构建大致可以分为以下几部分。

1. 域名解析
2. nginx解析
3. go net
4. docker部署

在写服务之前会为服务申请一个域名，一个域名绑定了一个ip。在URL解析的过程中，会通过DNS服务将一个域名解析成对应的 ip 地址。

nginx运行在这台服务器上，他会读取nginx配置文件中的内容。在配置文件中指定了监听端口，当nginx监听到端口上有事件来临时会按照配置文件中指定的ip与转发的方式进行转发。

在 go net 中底层会使用 epoll 监听请求连接，如果有requset请求来则开启一个go协程用来处理请求，在处理的过程中会先解析http请求头中指定的资源部分找到注册的处理函数，并将请求体传入指定的处理函数中。在处理函数结束后返回 Response。最后销毁这个协程。

一个go服务如何作为demo运行？一般使用docker，首先将go服务通过dockerfile制作成一个镜像，指定这个镜像中运行的程序为编译好的go代码。并使用docker-compose对容器进行部署。