
```c
#define asmlinkage CPP_ASMLINKAGE __attribute__((regparm(0)))
```
## 标识的作用
__attribute__((regparm(0))): \
这是一个GCC/Clang的函数属性（function attribute）。在这个特定的情况下，它指定了函数调用约定为零寄存器参数（register parameter）调用约定，这意味着函数不使用任何寄存器参数。通常，这个属性用于内核函数，因为内核函数往往不使用寄存器参数。
## 为什么不用寄存器传参
可移植性： 内核代码需要在多个不同的硬件平台上运行，而不同的平台可能有不同的寄存器架构和调用约定。如果内核函数依赖于特定的寄存器参数调用约定，那么在移植到另一个架构或平台时可能会导致问题。

上下文切换： 内核函数可能在任何时刻被调用，并且需要在不同的上下文中执行，例如中断处理程序、系统调用等。在这些情况下，必须保存和恢复函数使用的寄存器状态，以确保不会丢失任何关键信息。使用栈参数传递可以更容易地管理这些状态。

可维护性和可读性： 使用寄存器参数可能会使代码更难理解和维护。在内核开发中，可读性和可维护性是非常重要的因素，因为内核代码往往非常复杂且需要长期维护。

异常处理： 内核函数需要能够处理异常情况，例如内存访问错误、页面错误等。这些异常可能发生在任何时候，并且需要保证异常处理代码能够正确地访问参数。使用栈参数传递可以确保即使在异常情况下也能够正确地访问参数。