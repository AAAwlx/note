# 文件系统日志

## 文件系统的一致性

在任意两次写入操作期间，文件系统都可能会发生崩溃或者掉电的情况。如果其中一个写请求到达磁盘，但还没写入磁盘，在此时发生了崩溃，就会造成文件系统的不一致问题。

古老的解决方案是通过文件系统检查程序（file system checker）,即fsck。该方案的思想是并不妨碍或者阻止磁盘不一致状态的产生，而是在崩溃后重启时检查并修复不一致状态。需要手动使用 fsck 命令，进行检查，在使用该命令之后，会对超级块中，inode等结构进行检查，检查有没有重复的块。这样每次都需要对磁盘进行遍历的方式就十分低效。在此基础上又产生了文件系统

[fsck原理](https://blog.csdn.net/weixin_29196613/article/details/116907036)

文件系统日志的诞生就是为了防止这一现象的产生。